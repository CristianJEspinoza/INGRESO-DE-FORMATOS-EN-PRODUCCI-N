<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Lavado de Manos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 10pt;
            font-size: 10pt;
        }

        .main-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10pt;
            page-break-inside: auto;
        }

        .main-table thead {
            display: table-header-group;
        }

        .main-table tfoot {
            display: table-footer-group;
        }

        .main-table tr {
            page-break-inside: avoid;
            page-break-after: auto;
        }

        .main-table th,
        .main-table td {
            /* border: 1pt solid black; */
            padding: 4pt;
        }

        .header-table,
        .body-table,
        .footer-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10pt;
        }

        .header-table td,
        .header-table th,
        .body-table td,
        .body-table th,
        .body-content td,
        .body-content th,
        .footer-table td {
            border: 1pt solid black;
            padding: 4pt;
        }

        .header-table th {
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .border {
            border: 1pt solid black;
        }

        .border-none {
            border: none !important;
        }

        .text-right {
            text-align: right;
            padding-right: 2pt;
        }

        .text-left {
            text-align: left;
            padding-left: 2pt;
        }

        .text-center {
            text-align: center;
        }

        .w-15 {
            width: 15%;
        }

        .w-25 {
            width: 25%;
        }

        .w-50 {
            width: 50%;
        }

        .w-75 {
            width: 75%;
        }

        .w-100 {
            width: 100%;
        }

        .s1 {
            font-size: 10pt;
            font-weight: bold;
        }

        .s2 {
            font-size: 9pt;
        }

        .s3 {
            font-weight: normal;
            font-size: 8.5pt;
            line-height: 7pt;
        }

        .page-break {
            page-break-before: always;
            /* Forzar el salto de página */
        }

        .logo-cell {
            width: 50pt;
        }
    </style>
</head>

<body>
    <table class="main-table">
        <!-- Encabezado del reporte -->
        <thead>
            <tr>
                <td colspan="12">
                    <table class="header-table">
                        <tr>
                            <td class="logo-cell" rowspan="3" colspan="2">
                                <img src="logo.png" alt="Logo" style="width: 50pt;"> Reemplazar con la ruta del logo
                            </td>
                            <td class="s1 text-center" colspan="10">MANUAL DE PROCEDIMIENTOS OPERACIONALES DE
                                SANEAMIENTO</td>
                        </tr>
                        <tr>
                            <td class="s1 text-center" colspan="2">CAPÍTULO V: FORMATOS</td>
                            <td class="s1 text-center" colspan="9">REPORTE DE LAVADO DE MANOS</td>
                        </tr>
                        <tr>
                            <td colspan="2">Edición: 01</td>
                            <td colspan="2" class="w-15 s3 text-center">Revisión: 0</td>
                            <td colspan="3" class="w-50 s3 text-center">Fecha de Aprobación: Febrero 2023</td>
                            <td colspan="3" class="w-50 s3 text-center">Código: TI-POES-F03-RLM</td>
                        </tr>
                    </table>
                </td>
            </tr>
            <!-- Información de fechas -->
            <tr>
                <td colspan="4">
                    <table class="header-table">
                        <tr class="s2">
                            <td colspan="1" class="border-none">Fecha</td>
                            <td colspan="4" class="border-none w-15">Mes:</td>
                            <td colspan="7" class="border-none">Año: 2024</td>
                            <td class="border-none text-right">Frecuencia de Registro <span class="border"
                                    style="font-weight: 600; padding: 4pt 12pt;">DÍA AL MES</span></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr class="border">
                <th class="w-15 border">FECHA</th>
                <th class="w-15 border">NOMBRE</th>
                <th class="border">HORA</th>
            </tr>
        </thead>

        <!-- Cuerpo del reporte -->
        <tbody class="body-content">
            {% for date, attendance in info.items() %}
            {% set attendance_count = attendance | length %}
            {% for name, times in attendance.items() %}
            <tr>
                <td class="text-center">{{ date }}</td>
                <td class="text-center">{{ name }}</td>
                <td class="text-left">
                    {% for time in times %}
                    {{ time }}{% if not loop.last %} | {% endif %}
                    {% endfor %}
                </td>
            </tr>
            {% endfor %}
            {% endfor %}
            <tr>
                <td colspan="12" class="border-none"></td>
            </tr>
            <tr>
                <th colspan="1">FECHA</th>
                <th colspan="6">MEDIDAS CORRECTIVAS</th>
            </tr>
            <tr>
                <td colspan="1">01/07/2024</td>
                <td colspan="6">Mostrando medidas correctivas para la fecha mostrada, lavado de manos</td>
            </tr>
        </tbody>

        <!-- Pie del reporte -->
        <tfoot>
            <tr>
                <td colspan="12">
                    <table class="footer-table">
                        <tr>
                            <td class="border-none"></td>
                            <td style="width: 200pt;">
                                <p>V°B° G.G.</p>
                                <p>Fecha:</p>
                            </td>
                            <td class="border-none"></td>
                            <td style="width: 200pt;">
                                <p>V°B° Supervisor</p>
                                <p>Fecha:</p>
                            </td>
                            <td class="border-none"></td>
                        </tr>
                        <tr style="height: 50pt;"></tr>
                        <tr>
                            <td colspan="12" class="border-none text-center">
                                ___________________________________________________</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </tfoot>

    </table>
</body>

</html>